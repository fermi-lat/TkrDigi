//##############################################################
//
//  Job options file for TkrDigiAlg test 

// primary DLLs

ApplicationMgr.DLLs+= {"RootIo","TkrDigi", "TkrUtil", "ntupleWriterSvc", "GlastSvc"};

// ----------------------------
// setup basic event loop stuff
//
ApplicationMgr.ExtSvc = { 
//   "GlastEventSelector/EventSelector" , 
    "EventCnvSvc", "RootTupleSvc", "GlastDetSvc"
    };
EventPersistencySvc.CnvServices = {"EventCnvSvc"};
EventSelector.Input = "NONE";

ApplicationMgr.DLLs   += { "CalibSvc" };

// seems to be needed to stop CAL calibration from complaining...
DetectorPersistencySvc.CnvServices += {"CalibMySQLCnvSvc"};

// ----------------------------
//  topalg
//
ApplicationMgr.TopAlg = {
    "mcRootReaderAlg",
    "TkrDigiAlg",
    "test_TkrDigi" 
    };

// ----------------------------
// TkrDigi settings
//
TkrDigiAlg.Type = "Bari";  // default: "Simple"
//TkrDigiNoiseAlg.Type = ""; // default: "General"
 
// ----------------------------
// Just to see that the following services don't start misbehaving
//
TkrFailureModeSvc.towerList= {"14"};  
TkrFailureModeSvc.layerList= {"14_3_0", "14_4_1"};

TkrBadStripsSvc.badStripsFile = "$(TKRUTILROOT)/src/test/badStrips.txt";

TkrSplitsSvc.splitsFile = "$(TKRUTILROOT)/src/test/splits.xml";

// ----------------------------
//  Geometry definition
//
ApplicationMgr.DLLs += {"GlastSvc", "G4Generator", "G4Propagator"};

GlastDetSvc.topVolume="LAT"; 

GlastDetSvc.xmlfile="$(XMLGEODBSXMLPATH)/flight/flightSegVols.xml";
//GlastDetSvc.visitorMode="recon";

// ----------------------------
//  Randoms definition
// comment for the moment, for comparison with the old TkrDigi
//
//ApplicationMgr.ExtSvc += { "GlastRandomSvc"};
//GlastRandomSvc.RunNumber = 7;
//GlastRandomSvc.InitialSequenceNumber = 42;

// Set output level threshold (2=DEBUG, 3=INFO, 4=WARNING, 5=ERROR, 6=FATAL )
MessageSvc.OutputLevel = 3;
ApplicationMgr.EvtMax = 5;
mcRootReaderAlg.mcRootFile="$(ROOTTESTDATADATAPATH)/default/mc.root";

//==============================================================
//
// End of job options file
//
//##############################################################

